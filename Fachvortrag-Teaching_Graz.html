<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>The Role of Emotions in Digital Communication</title>
    <meta charset="utf-8" />
    <meta name="author" content="Research lecture for the Assistant Professor Position on “Digital Technologies and Psychology”     Mag. Dr. Hannah Metzler" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="libs/footer&middle.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






layout: true

---
class: inverse, center, middle, title-slide
background-image: url(figures/brain.png)
background-size: contain

# The Role of Emotions in Digital Communication
## Research lecture for the Assistant Professor Position on *Digital Technologies and Psychology*
### Mag. Dr. Hannah Metzler
### 09.09.2021 - University of Graz

---
layout: true
&lt;div class="my-footer"&gt;&lt;span&gt;
&lt;a href="https://psyarxiv.com/t8mhw"&gt; Metzler et al. Psyarxiv (2020) - &lt;/a&gt;
&lt;a href="https://rdcu.be/8Gx5"&gt; Chadwick*, Metzler* et al. Motivation &amp; Emotion (2019) - &lt;/a&gt;
&lt;a href="https://peerj.com/articles/6726"&gt; Metzler &amp; Grèzes. PeerJ (2019)&lt;/a&gt;
&lt;/span&gt;&lt;/div&gt;

---

# Emotions in non-verbal social interaction

.left-column[
&lt;br&gt;

Emotions
- attract attention

- direct attention &amp; behavior

]


.right-column[.center-right[
&lt;img src="figures/nonverbal.jpg" width="700" /&gt;
]]

---
layout: true

---

# Emotions in digital communication

.left-column[
**Social media...**

**Tool**

&lt;br&gt;
**Effects**

&lt;br&gt;
**Environment**
]
--
&lt;br&gt;
.right-column[

* Digital traces of collective emotions during COVID-19
* Validity of social media emotion &amp; sentiment measures &lt;br&gt; &lt;br&gt;
* Effects of social media content on mental health
    - suicidal &amp; help seeking behavior &lt;br&gt; &lt;br&gt;
* Behavior on social media: &lt;br&gt;
Misinformation spreading &amp; advocacy for societal causes 
]


???
tool that allows measuring things that we could not measure otherwise
Macroscopes: emotion measures at the level of populations

---
layout: true
&lt;div class="my-footer"&gt;&lt;span&gt;
&lt;a href="https://psyarxiv.com/qejxv"&gt; Collective Emotions During the COVID-19 Outbreak. Metzler, Rimé, Pellert, Niederkrotenthaler, Di Natale &amp; Garcia. Psyarxiv (2021)&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;

---

# Collective emotions during COVID-19

.pull-left[
**Social media data**
* Emotional expressions on Twitter
* 5 weeks after outbreak in 2020
* 8,3 billion tweets in 6 languages
* Geolocation: 18 countries

**Computational Methods**
* Automated text-analysis
* Validated emotion dictionaries
* Robustness: Machine Learning
* GLMEMs
]

.pull-right[

&lt;img src="figures/EmotionTimelines2020_Italy.svg" width="600" /&gt;
]


???

ML: Deep learning: RoBERTa fine-tuned to tweets
Generalized Linear Mixed Effect Models
After image: link to stringency and cases in plot: association with real world events

---

# Measure stringency &amp; COVID cases

.pull-left[.center-left[
&lt;img src="figures/stringency_periods.svg" width="460" /&gt;
]]

.pull-right[.center-right[
&lt;img src="figures/correlation_anx_cases_week1.svg" width="400" /&gt;
]]

---
layout: true
&lt;div class="my-footer"&gt;&lt;span&gt;
&lt;a href=https://arxiv.org/abs/2107.13236&gt; Garcia, Pellert, Lasser, Metzler. arXiv (2021) - &lt;/a&gt;
&lt;a href=https://arxiv.org/abs/2108.07646&gt; Pellert, Metzler, Matzenberger &amp; Garcia. arXiv (2021) &lt;/a&gt;&lt;/span&gt;&lt;/div&gt;

---

# Validity of emotion &amp; sentiment measures

.pull-left[.center-left[
* 2 year period

* UK Twitter data
* YouGov: Weekly representative UK emotion survey

* Automated text-analysis &amp; Machine Learning
* Pre-registered hypotheses for prediction period
]]
.pull-right[.center-right[
&lt;img src="figures/Anxiety.svg" width="650" style="display: block; margin: auto 0 auto auto;" /&gt;

&lt;img src="figures/Sadness.svg" width="650" style="display: block; margin: auto 0 auto auto;" /&gt;
]]

* Sentiment analysis in Austria: similar results

---
layout: true

---

# Media effects research on suicide

News reporting on suicide influences suicidal behavior in individuals at risk

.pull-left[.center-left[
&lt;img src="figures/Werther.png" width="250" style="display: block; margin: auto;" /&gt;

&lt;div style="text-align:center"&gt;
Reports on suicide deaths: &lt;br&gt;
&lt;span style="font-weight: bold; color:#1f5c99"&gt; Werther&lt;/span&gt; effect &lt;br&gt;
&lt;font size="4"&gt;
&lt;a href='https://www.bmj.com/content/368/bmj.m575'&gt; Meta-analysis: Niederkrotenthaler et al. 2020 &lt;/a&gt;
&lt;/font&gt; &lt;/div&gt;

]]

.pull-right[.center-right[

&lt;img src="figures/Papageno.png" width="200" style="display: block; margin: auto;" /&gt;

&lt;div style="text-align:center"&gt;
Stories of hope &amp; coping: &lt;br&gt; 
&lt;span style="font-weight: bold; color:#1f5c99"&gt; Papageno&lt;/span&gt; effect  &lt;br&gt; 
&lt;font size="4"&gt;
&lt;a href='https://www.doi.org/10.1192/bjp.bp.109.074633'&gt; (e.g. ) Niederkrotenthaler et al. 2010 &lt;/a&gt;
&lt;/font&gt; &lt;/div&gt;
]]

&lt;div style="text-align:center; font-weight: bold; color:#1f5c99"&gt; Content and language matter &lt;/div&gt;

---
layout: true
&lt;div class="my-footer"&gt;&lt;span&gt; 
A Machine Learning approach to media effects research on suicide. Metzler, Baginski, Niederkrotenthaler &amp; Garcia (in prep.) &lt;/span&gt;&lt;/div&gt;

---

# Machine Learning classification of harmful &amp; protective content

.pull-left[
* Social media content on suicide
* Big data for robust results
* 14.5 million US tweets 2013-2020
]
--
.pull-right[
* Scheme: typical content categories
* Leverage Artificial Intelligence:
Traditional ML &amp; Deep Learning
]

--
&lt;img src="figures/MLresults_per_category.svg" width="1000" style="display: block; margin: auto;" /&gt;


???
Social media: young adults and new content types, but few studies
Small datasets with manual labelling: Big data
Best performance with BERT
Different metrics related to how many false positives and false negative errors the model makes, that I will explain more in the teaching lecture

---
layout: true
&lt;div class="my-footer"&gt;&lt;span&gt; 
 Niederkrotenthaler, Tran, Baginski,..., &amp; Metzler (in prep.) &lt;/span&gt;&lt;/div&gt;

---

# Associations with suicides &amp; helpline calls

Time series analyses of volume per tweet category with suicide cases &amp; calls

&lt;img src="figures/CopingPreventionTweets.png" width="900" style="display: block; margin: auto;" /&gt;

* Coping stories: protective association with calls, but are rare
* Prevention tweets: protective association with cases &amp; calls
* Suicide cases in general: no association 
&lt;span style="font-size: 18px"&gt;&lt;a href='https://www.doi.org/10.1192/bjp.bp.109.074633'&gt; (confirming Niederkrotenthaler et al. 2020)&lt;/span&gt; 

---
layout:true

---

# My research vision for Graz

**Investigate the role of emotion on social media** 
.left-column[
&lt;img src="figures/Papageno_noframe.svg" width="70" /&gt;

&lt;img src="figures/corruption-2727571_1280.png" width="90" /&gt;

&lt;img src="figures/EA_logo.svg" width="80" /&gt;
]

.right-column[.center-right[

...for protective and harmful effects on suicide

&lt;br&gt;
...in spreading of misinformation

&lt;br&gt;
...in spreading of evidence-based advocacy efforts
]]

&lt;br&gt;&lt;br&gt;

**Develop digital interventions that consider emotions**


???

Misinfo: mention WWTF funding and 1 student + research assistant that will work with me in next 3 years 

---

# Emotion &amp; Misinformation Spreading

.left-column[
&lt;img src="figures/factchecking.jpeg" width="350" style="display: block; margin: auto;" /&gt;

&lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt; 

&lt;img src="figures/wwtf_notext.jpg" width="110" style="display: block; margin: auto auto auto 0;" /&gt;
&lt;span style="font-size: 17px"&gt;Digital Humanism Grant&lt;/span&gt; 
]

.right-column[
* Fake news and conspiracies increase during crisis
* Current interventions focus on accuracy &lt;br&gt;&lt;br&gt;
]


&lt;img src="figures/Emomis.svg" width="850" style="display: block; margin: auto auto auto 0;" /&gt;



---

# Role of emotion in suicide prevention 

* No effect:  Oregon Media Project: Suicide Prevention Campaign

* Protective: 1-800-273-8255 song by Logic

&lt;img src="figures/sad&amp;info.svg" width="400" style="display: block; margin: auto;" /&gt;

.pull-left[
&lt;img src="figures/expressed_experienced.svg" width="500" /&gt;
]

&lt;div style="font-size:22px"; color:gray; font-style: italic&gt;
.pull-right[
* News: Inspector in Philadelphia Collapse Commits Suicide
* Sometimes, the ONLY thing that kept me from suicide was my dad and my love for myself that i had to find.
]
&lt;/div&gt;

---
layout:true

---

# My collaboration network


&lt;img src="figures/collaboration.svg" width="1000" style="display: block; margin: auto auto auto 0;" /&gt;

???

Connect Uni Graz to my national &amp; international collaboration partners, including psychologists, neuroscientists, computer and data scientists

---


# Summary: Social Media &amp; Emotions
&lt;top&gt; 
.left-column[
&lt;br&gt;
**As a tool**
&lt;br&gt; &lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt; 
**Effects of media content**
&lt;br&gt; &lt;br&gt; &lt;br&gt;
**As an environment**
]

.right-column[
* Frequent &amp; historical data
* Interactions between people: collective emotions
* Validity as emotion macropscopes
* Nonintrusive: no memory or reporting biases &lt;br&gt;&lt;br&gt;
* Emotional connotation &amp; response crucial &lt;br&gt;for suicide prevention
* Machine Learning for large-scale analyses &lt;br&gt;&lt;br&gt;
* Information spreading
* Emotional algorithms
]
 &lt;/top&gt;

---

# Thank you!

&lt;br&gt;

For more on my research: https://hannahmetzler.eu

For data and code: https://github.com/hannahmetzler

&lt;br&gt;&lt;br&gt;

&lt;img src="figures/csh.png" width="220" /&gt;
&lt;img src="figures/Meduni-wien.svg" width="220" /&gt;
&lt;img src="figures/wwtf.svg" width="300" /&gt;
&lt;img src="figures/vibrant.svg" width="260" /&gt;


---
class: inverse, center, middle, title-slide
background-image: url(figures/brain.png)
background-size: contain

# Teaching Concept

### Teaching at the Interface of Psychology &amp; Computer Science &lt;br&gt; &lt;br&gt; in the Master of Computational Social Systems

### Mag. Dr. Hannah Metzler


---

## Teaching philosophy &amp; approach

.pull-left[.center-left[
- Active &amp; goal-oriented learning

- Linking theory &amp; research practice

- Critical thinking: 
    - probabilistic nature &amp; robustness of evidence 
    - study design &amp; methods 
    - good research practices
    
- Encourage participation

- Regular feedback: growth mindset
]]

.pull-right[.center-right[
&lt;img src="figures/communication-network.png" width="120" /&gt;&lt;img src="figures/logo-rond-twitter.svg" width="120" /&gt;
&lt;img src="figures/Facebook_f_logo_(2019).svg" width="80" /&gt;
&lt;img src="figures/reddit.png" width="75" /&gt;

&lt;br&gt;

&lt;img src="figures/bayesian-2889576_1280.png" width="100" /&gt;
&lt;img src="figures/osf.svg" width="150" /&gt;&lt;img src="figures/GitHub-Logo.svg" width="150" /&gt;

&lt;br&gt;
&lt;img src="figures/participate.svg" width="150" style="display: block; margin: auto;" /&gt;
]]


???
Active learning: exerices applying theory to practice
When teaching psychology, critical reflection particularly necessary
reflect on the social impact of research?
Taking the student perspective to ensure motivation
Regular feedback for students: interleaved learning/repeated exams
Groth mindset for me and students: adapt teaching and foster motivation

---

# Courses in the CSS Master

* VU: Introduction to Psychology I &amp; II
    - **Teaching activities and syllabus**

* SE: Emotional and social influences on digital communication on social media
    - **Introduction to Computational Social Psychology as teaching lecture**

* SE: A practical introduction to digital open research in social psychology 

???

focus on good research practices for digital research

---

# Introduction to Psychology I &amp; II

1. Lectures on core areas of psychology
2. Exercises: Study idea on a lecture topic with digital tools/data
3. Interactive sessions with short presentations
    - Feedback on exercises &amp; presentations

.left-column[
&lt;img src="figures/pen.png" width="180" /&gt;
]
.right-column[
**Evaluation scheme**
- Intermediate exam 1 &amp; 2: 35%
- Final exam: 25%
- Written exercises: 20%
- Group presentation &amp; discussions: 20%

]

???

8 lectures, 4-5 interactive sessions
Knowledge: Describe the main areas of psychology and their core research topics
Exercise as homework: link theory/research practice, active learning: How would you investigate one of the topics from the previous session with CSS methods, digital data or on digital platforms? Describe a research question and method for a study in 250-500 words (on Moodle)
Interactive session: 6 students present their idea in 5 minutes (no slides necessary) + 10 min discussion 

Evaluation Designed to encourage
* interleaved learning
* active participation
* independent thinking
* application of psychological theories to digital studies
an interleaved curriculum works on the basis that different topics are woven together, switched between and revisited at intervals throughout the year.


---

# Syllabus

.pull-left[.center-left[
**I) History, Biology, Cognition, Development**
- Introduction &amp; history
- Biological &amp; neural processes
- Attention &amp; perception
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Learning &amp; memory
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Cognitive biases &amp; decision making
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Language, thought &amp; intelligence
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Development
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
]]

.pull-right[.center-right[
**II) Methods, Personality, Social, Gender, Clinical &amp; Health**
- Social Science Methods
- Reproducibility &amp; Open Science
- Personality &amp; Interindividual Differences 
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Social Psychology 1 &amp; 2
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Emotion &amp; Motivation
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Gender &amp; Sexual Behavior
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
- Clinical &amp; Health Psychology
&lt;img src="figures/write.svg" width="30" /&gt;&lt;img src="figures/speech-bubbles-orange.png" width="30" /&gt;
]]

???
Attention SENSATION and perception
Methods: (Design, statistics (NHST, Bayesian)
Social psych:
1) (Social Cognition, Perception, Attitudes, Self-understanding, Persuasion), 
2) (Relationships and attraction, Group processes, conformity, prosocial behavior &amp; cooperation, aggression, prejudice, stereotyping, discrimination …)

---
class: inverse, center, top, title-slide



# An Introduction to Computational Social Psychology

&lt;img src="figures/communication-network.png" width="400" /&gt;

### Teaching Lecture on *Digitial Technologies and Psychology* &lt;br&gt; Hannah Metzler

---


# Computational Social Science (CSS)

&lt;div style="text-align:center"&gt;&lt;span style="font-weight: bold; color:#1f5c99"&gt;
Quantitative testing theories from the social sciences at unprecedented
breadth and depth and scale.&lt;/span&gt; 
&lt;span style="font-size: 22px; font-color: gray"&gt; Lazer et al. Science (2009) &lt;/span&gt; &lt;/div&gt;


* New data sources (e.g. the Web and Social Media)

* New methods (e.g. Machine Learning, Simulation)

* Breadth: quantifying many things at the same time

* Depth: measuring a lot about each person

* Scale: gathering data on many people

&lt;div style="text-align:center; font-weight: bold; color:#1f5c99"&gt; “More is different” (Anderson, 1972) &lt;/div&gt;

---

# Interdisciplinarity in CSS 

.pull-left[.center-left[
&lt;img src="figures/CSSoverview.svg" width="950" /&gt;

]]
--
.pull-right[
### Psychology in the digital age

* Behavioral changes: 
    - online &amp; offline
* New digital tools for 
    * teaching &amp; learning
    * working 
    * diagnosis &amp; therapy
* New computational methods
* New data sources
]

---

# Computational Social Psychology 

### Core topics &amp; course overview

.pull-left[.center-left[

**Social media data analysis**
* Natural Language Processing
* Machine Learning
* Validity of emotion measures 

**Emotions &amp; social media**
* Emotion regulation
* Social media and wellbeing
* Media effects on suicide
* Depression &amp; Anxiety
]]

--

.pull-right[.center-right[
**Interaction on social media**
* Misinformation
* Collective emotions
* Polarization
* Outgroup hate
* Racial harrassement
]]
--
**=&gt;Machine Learning** &lt;br&gt;

**=&gt;Polarization**

---

# Machine Learning for text analysis

.pull-left[.center-left[
**Preprocessing** 
* Lower-casing
* Remove punctuation
* Stemming
* Lemmatization
* Replace URLs &amp; users
* Tokens
]]
.pull-right[.center-right[
**Text representations**
* Word frequencies
    * Bag of words
    * Term Frequency-Inverse Document Frequency
* Word embeddings
]]
  
  
???
TF-IDF: Special weight to words that distinguish this type of text
---

# Types of models

* Linear regression
* Support-Vector-Machines
* Random Forest
...

---

## Neural networks = Deep learning

* Learn sentence structure and semantics from large text corpora

* Transfer learning: Retrain state-of-the art language models for specific tasks

* BERT: Masked word prediction &amp; next sentence prediction &lt;span style="font-size: 22px; font-color: gray"&gt; Devlin et al. (2019) &lt;/span&gt; 
    * “New **[MASK]** is a city” 
    * 15% of words masked: “[MASK] **[MASK]** is a city, in which ...”
    
* XLNET: Permutations of all words used to predict masked word &lt;span style="font-size: 22px; font-color: gray"&gt; Yang et al. (2019) &lt;/span&gt; 

---

# Model training &amp; evaluation

&lt;img src="figures/MLTraining.svg" width="600" /&gt;

---

# Evaluation metrics 

* **Accuracy**: How many are correct?

* **Precision**: 
    * How many of the “positive” predictions are correct? 
    * How many predicted angry tweets are actually angry?
    
* **Recall**: 
    * How many of all the “true” instances does the model detec? 
    * How many of the actually angry tweets?
    
* **F1-Score**: weighted balance of P &amp; R

---

# A field experiment on polarization

.pull-left[
* Differences between groups becoming more extreme

* Echo chambers on social media? 
]
--
.pull-right[
&lt;img src="figures/bail_design.svg" width="600" /&gt;
]
---

# Backfire effect

&lt;img src="figures/bail_results.svg" width="900" style="display: block; margin: auto;" /&gt;


???

Material for other slides: 

Digital Technologies and Psychology

**Social Media**
E-Therapy
Videogames 
Serious Games 
Virtual Reality &amp; Augmented Reality
Artificial Intelligence and Robotics 
Digital Learning
Blended Teaching
Digital Tools
Human-Computer Interaction
Brain-Computer interfaces
Experience Sampling

???
vent-diagram

Next slide: 
Topics in Computational Social Psychology

Topics: misinformation, hate speech, cyber-bullying, polarization, social interaction, social contagion, problematic and positive use of technology, additive behavior, mental health,  telework

???
zoom into social media in illustration from previous slide


Slide on types of digital research:
1) Observation
* Online data: behavior in digital environments
* Digital data created by devices in the physical world (supermarkets, phones)
* Government records (health, unemployment...)

2) Experimentation
* Online experiments: on social media or via surveys
* Crowdsourcing (Mechanical Turk)
* Research with digital technologies: neuroimaging, virtual reality, serious games...

3) Asking questions
* Online surveys

4) Mass collaboration
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="libs/perc.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
